<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Alchemist - Final Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;700&family=Heebo:wght@200;300;400;500&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Heebo', sans-serif; background-color: #050505; }
        .font-serif-display { font-family: 'Cinzel', serif; }
        
        /* Gold Colors */
        .text-gold { color: #d4af37; }
        .border-gold { border-color: #b48811; }
        
        /* Gold Gradient Text */
        .gold-gradient-text {
            background: linear-gradient(to bottom, #fcf6ba, #bf953f, #b38728, #fbf5b7);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Glassmorphism */
        .glass-panel {
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(180, 136, 17, 0.15);
        }

        /* Logo CSS */
        .logo-circle-outer { border: 1px solid rgba(180, 136, 17, 0.3); }
        .logo-circle-inner { border: 2px solid #ebd197; box-shadow: 0 0 10px rgba(235, 209, 151, 0.2); }

        /* AI Modal */
        .ai-modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.95);
        }
        .ai-modal.active {
            opacity: 1;
            pointer-events: all;
            transform: scale(1);
        }
        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center bg-[#050505]">

    <!-- Container adjusted for mobile fit -->
    <div class="w-full max-w-md bg-black min-h-screen border-x border-neutral-900 shadow-2xl relative overflow-hidden flex flex-col">
        
        <!-- Subtle Full Page Texture -->
        <div class="absolute inset-0 z-0 pointer-events-none">
            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10"></div>
        </div>

        <!-- Content Wrapper -->
        <div class="relative z-10 flex flex-col h-full flex-grow">
            
            <!-- Header Section -->
            <header class="pt-8 pb-2 text-center relative z-20">
                <!-- Logo Recreation -->
                <div class="w-20 h-20 mx-auto relative mb-3">
                    <div class="absolute inset-0 rounded-full logo-circle-outer"></div>
                    <div class="absolute inset-1 rounded-full logo-circle-inner bg-black"></div>
                    <!-- Icon -->
                    <div class="absolute inset-0 flex items-center justify-center">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ebd197" class="drop-shadow-[0_0_5px_rgba(235,209,151,0.5)]">
                             <path d="M12 21C16 21 19 18 19 14C19 11 17 9 17 9H7C7 9 5 11 5 14C5 18 8 21 12 21Z" stroke-width="1.2" />
                            <path d="M10 4H14" stroke-width="1.2"/>
                            <path d="M12 4V7" stroke-width="1.2"/>
                            <path d="M12 4C12 4 10 1 13 0" stroke-width="0.8" stroke-opacity="0.6"/>
                            <path d="M11 2C11 2 9 0 11 -1" stroke-width="0.5" stroke-opacity="0.4"/>
                            <path d="M16 2L16.5 3L16 4L15.5 3Z" fill="#fff" stroke="none" opacity="0.8"/>
                            <path d="M8 5L8.5 6L8 7L7.5 6Z" fill="#fff" stroke="none" opacity="0.6"/>
                            <text x="12" y="17" font-family="serif" font-size="7" text-anchor="middle" fill="#ebd197" stroke="none">A</text>
                        </svg>
                    </div>
                </div>
                
                <h1 class="font-serif-display text-2xl text-[#ebd197] tracking-[0.15em] mb-1">THE ALCHEMIST</h1>
                <p class="text-[0.6rem] text-[#886e26] uppercase tracking-[0.4em] mb-4">Magical Fragrances</p>

                <!-- Catchy Phrase -->
                <div class="px-6 relative z-20">
                    <p class="text-lg font-light text-white leading-relaxed">
                        ××•×ª×” ××™×›×•×ª, ××•×ª×• ×”× ×™×—×•×—.
                        <br>
                        <span class="gold-gradient-text font-bold">×œ×œ× ×ª×’×™×ª ×”××—×™×¨.</span>
                    </p>
                </div>
            </header>

            <!-- Middle Image Section (The Collection) -->
            <div class="relative w-full h-64 my-2 overflow-hidden border-y border-[#222]">
                <div class="absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20 z-10"></div>
                
                <!-- Main Image -->
                <img src="https://images.unsplash.com/photo-1592914610354-fd354ea45e48?q=80&w=1200&auto=format&fit=crop" 
                     alt="Perfume Collection Full View" 
                     class="w-full h-full object-contain opacity-95 hover:scale-105 transition-transform duration-1000"
                     onerror="this.src='https://placehold.co/600x400/000/gold?text=Luxury+Collection'">
                
                 <!-- AI Feature Trigger Button (UPDATED TEXT) -->
                <button onclick="toggleAIModal()" class="absolute bottom-4 left-4 z-30 bg-black/90 backdrop-blur border border-[#b48811] text-[#ebd197] py-2 px-3 rounded-full shadow-[0_0_20px_rgba(180,136,17,0.6)] hover:bg-[#b48811] hover:text-black transition-all duration-300 transform hover:scale-105 animate-pulse">
                    <div class="flex items-center gap-2">
                        <span class="text-lg">âœ¨</span>
                        <span class="text-[11px] uppercase font-bold tracking-widest">×ª×ª×™×™×¢×¦×• ×¢× ×”××œ×›×™×××™ğŸ§ª</span>
                    </div>
                </button>
            </div>

            <!-- Best Sellers Text List -->
            <div class="px-6 -mt-6 relative z-20">
                <div class="text-center mb-2">
                    <span class="text-[10px] text-gray-300 uppercase tracking-widest bg-black/90 backdrop-blur px-3 py-1 border border-neutral-800 rounded-full shadow-lg">×”× ××›×¨×™× ×‘×™×•×ª×¨</span>
                </div>
                
                <div class="glass-panel rounded-sm p-4 space-y-3">
                    <!-- Item 1 -->
                    <div class="flex flex-col items-center border-b border-gray-800 pb-2">
                        <span class="text-[9px] text-[#b48811] uppercase tracking-wider">Louis Vuitton</span>
                        <span class="text-white font-serif-display text-base tracking-wide">Ombre Nomade</span>
                    </div>
                    <!-- Item 2 -->
                    <div class="flex flex-col items-center border-b border-gray-800 pb-2">
                        <span class="text-[9px] text-[#b48811] uppercase tracking-wider">Louis Vuitton</span>
                        <span class="text-white font-serif-display text-base tracking-wide">Imagination</span>
                    </div>
                    <!-- Item 3 -->
                    <div class="flex flex-col items-center">
                        <span class="text-[9px] text-[#b48811] uppercase tracking-wider">Amouage</span>
                        <span class="text-white font-serif-display text-base tracking-wide">Reflection</span>
                    </div>
                </div>
            </div>

            <!-- Pricing Section (Pushed to bottom) -->
            <div class="px-4 pb-6 mt-auto relative z-20 pt-4 flex-grow flex flex-col justify-end">
                <div class="bg-neutral-900/90 border border-neutral-800 p-5 rounded-sm shadow-2xl">
                    
                    <!-- Single -->
                    <div class="flex items-center justify-between border-b border-neutral-800 pb-2 mb-2">
                        <span class="text-gray-400 text-xs">×‘×•×©× ×™×—×™×“</span>
                        <span class="font-serif-display text-white text-lg">â‚ª279</span>
                    </div>

                    <!-- Double -->
                    <div class="flex items-center justify-between border-b border-neutral-800 pb-2 mb-2">
                        <span class="text-gray-300 text-xs">×–×•×’ ×‘×©××™×</span>
                        <span class="font-serif-display text-[#f3e5ab] text-xl">â‚ª439</span>
                    </div>

                    <!-- Triple (Highlight) -->
                    <div class="flex items-center justify-between pt-1">
                        <div class="flex flex-col">
                            <span class="text-white text-sm font-medium">×©×œ×™×©×™×™×” (3)</span>
                            <span class="text-[9px] text-[#b48811] uppercase">×”××—×™×¨ ×”×˜×•×‘ ×‘×™×•×ª×¨</span>
                        </div>
                        <div class="text-right">
                             <span class="font-serif-display gold-gradient-text text-3xl font-bold">â‚ª549</span>
                        </div>
                    </div>

                    <!-- CTA Instagram Button -->
                    <a href="https://www.instagram.com/parfume_alch?igsh=ZWdmb2t4MmxpMDUy&utm_source=qr" target="_blank" class="mt-5 group relative w-full flex items-center justify-center py-3 overflow-hidden bg-gradient-to-r from-[#1a1a1a] to-[#0d0d0d] border border-[#b48811]/60 rounded-sm hover:border-[#ebd197] transition-all duration-300 shadow-lg">
                        
                        <div class="flex items-center gap-2 relative z-10">
                            <!-- Instagram Icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-[#ebd197]">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                            </svg>
                            
                            <span class="font-medium text-[#ebd197] text-[10px] sm:text-xs tracking-wide group-hover:text-white transition-colors">
                                ×œ×¤×¨×˜×™× × ×•×¡×¤×™× ×¤× ×• ××œ×™× ×• ×‘××™× ×¡×˜×’×¨×
                            </span>
                        </div>
                        
                        <!-- Shine Effect on Hover -->
                        <div class="absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-20 group-hover:animate-shine" />
                    </a>

                </div>
            </div>
            
        </div>

        <!-- AI Modal Overlay -->
        <div id="aiModal" class="ai-modal absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4">
            <div class="bg-[#0f0f0f] border border-[#b48811] w-full max-w-sm rounded-sm p-6 relative shadow-[0_0_30px_rgba(180,136,17,0.2)]">
                <!-- Close Button -->
                <button onclick="toggleAIModal()" class="absolute top-2 left-2 text-gray-500 hover:text-white">&times;</button>
                
                <div class="text-center mb-4">
                    <div class="text-2xl mb-1">ğŸ”®</div>
                    <h3 class="font-serif-display text-[#ebd197] text-lg">×”××œ×›×™×××™ ×”×•×•×™×¨×˜×•××œ×™</h3>
                    <p class="text-xs text-gray-400">×ª××¨/×™ ×œ×™ ××ª ×”××•×•×™×¨×” ××• ×”×¨×™×—×•×ª ×”××”×•×‘×™× ×¢×œ×™×š...</p>
                </div>

                <!-- Chat Display -->
                <div id="chatResponse" class="min-h-[60px] max-h-[150px] overflow-y-auto text-sm text-gray-200 mb-4 p-3 bg-black/50 border border-gray-800 rounded-sm text-center hidden">
                    <!-- Response will go here -->
                </div>

                <!-- Loading State -->
                <div id="aiLoading" class="hidden text-center py-4">
                     <div class="inline-flex space-x-1 space-x-reverse">
                        <div class="w-2 h-2 bg-[#b48811] rounded-full typing-dot"></div>
                        <div class="w-2 h-2 bg-[#ebd197] rounded-full typing-dot"></div>
                        <div class="w-2 h-2 bg-[#b48811] rounded-full typing-dot"></div>
                    </div>
                    <p class="text-[10px] text-gray-500 mt-2 tracking-widest">×¨×•×§×— ××ª ×”×©×™×§×•×™...</p>
                </div>

                <!-- Input Area -->
                <div class="flex gap-2">
                    <input type="text" id="userPreference" placeholder="×œ××©×œ: ×× ×™ ××—×¤×©×ª ×‘×•×©× ××ª×•×§..." 
                           class="w-full bg-[#1a1a1a] border border-gray-700 text-white text-xs p-3 rounded-sm focus:border-[#b48811] focus:outline-none placeholder-gray-600">
                    <button onclick="askTheAlchemist()" class="bg-[#b48811] hover:bg-[#ebd197] text-black p-3 rounded-sm transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                    </button>
                </div>
            </div>
        </div>

    </div>

    <script>
        function toggleAIModal() {
            const modal = document.getElementById('aiModal');
            modal.classList.toggle('active');
        }

        async function askTheAlchemist() {
            const input = document.getElementById('userPreference');
            const responseDiv = document.getElementById('chatResponse');
            const loadingDiv = document.getElementById('aiLoading');
            
            const userText = input.value.trim();
            if (!userText) return;

            // UI Update
            input.value = '';
            loadingDiv.classList.remove('hidden');
            responseDiv.classList.add('hidden');
            responseDiv.innerHTML = '';

            try {
                // Call Gemini API
                const apiKey = ""; // API Key handled by system
                const prompt = `
                    Act as 'The Alchemist', a mysterious perfume expert.
                    The user input is: "${userText}".
                    
                    First, analyze the input for gender cues (Hebrew grammar: e.g., '××—×¤×©×ª' vs '××—×¤×©', '×¨×•×¦×”' ending with 'h' sound).
                    If the user is FEMALE or asks for WOMENS perfume, select from the FEMININE list.
                    If the user is MALE or asks for MENS perfume, select from the MASCULINE list.
                    If UNISEX/UNCLEAR, select from the UNISEX list.

                    MASCULINE List:
                    1. Ombre Nomade (Oud, Incense, Bold)
                    2. Imagination (Citrus, Tea, Fresh)
                    3. Reflection (Clean, Woody, Floral)
                    4. Creed Aventus Absolu (Fruity, Smoky)
                    5. Bleu de Chanel (Fresh, Woody)
                    6. Dior Sauvage (Spicy, Fresh)

                    FEMININE List (Hidden from main view but available for recommendation):
                    1. Parfums de Marly Delina (Lychee, Rose, Rhubarb - Sweet & Floral)
                    2. Tom Ford Black Orchid (Truffle, Orchid - Dark & Sensual)
                    3. Baccarat Rouge 540 (Saffron, Amberwood - Sweet & Airy)
                    4. Yves Saint Laurent Mon Paris IntensÃ©ment (Rose, Blackcurrant, White Musk - Romantic, Intense, Fruity-Floral)
                    
                    UNISEX List:
                    1. Baccarat Rouge 540
                    2. Ombre Nomade
                    3. Black Orchid
                    4. Xerjoff Naxos (Honey, Tobacco)
                    5. Maison Crivelli Oud MaracujÃ¡ (Passionfruit, Oud, Leather - Exotic, Tropical, Smoky)
                    6. Byredo Mojave Ghost (Sapodilla, Magnolia, Violet, Sandalwood - Clean, Woody, Ethereal, Desert Flower)

                    Recommend ONE perfume. Answer in HEBREW. Keep it short (max 2 sentences). Be poetic.
                `;

                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: prompt }]
                        }]
                    })
                });

                const data = await response.json();
                const aiText = data.candidates[0].content.parts[0].text;

                // Show Result
                loadingDiv.classList.add('hidden');
                responseDiv.classList.remove('hidden');
                responseDiv.innerHTML = `<span class="text-[#ebd197] font-bold">×”××œ×›×™×××™ ×××œ×™×¥:</span><br>${aiText}`;

            } catch (error) {
                console.error('Error:', error);
                loadingDiv.classList.add('hidden');
                responseDiv.classList.remove('hidden');
                responseDiv.innerHTML = "×”×§×¡× × ×›×©×œ ×›×¨×’×¢. ×× × × ×¡×” ×©× ×™×ª ×××•×—×¨ ×™×•×ª×¨.";
            }
        }
    </script>
</body>
</html>
